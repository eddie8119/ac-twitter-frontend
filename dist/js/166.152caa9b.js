"use strict";(self["webpackChunkforum_front_end_vue"]=self["webpackChunkforum_front_end_vue"]||[]).push([[166],{53166:(e,t,s)=>{s.r(t),s.d(t,{default:()=>k});s(68309),s(82526),s(41817);var i=function(){var e=this,t=e._self._c;return t("div",e._l(e.likes,(function(i){return t("div",{key:i.id,attrs:{id:"user-like-list-container"}},[t("img",{staticClass:"user-headshot",attrs:{src:e._f("emptyImage")(i.Tweet.User.avatar),alt:"個人頭像"}}),t("div",{staticClass:"ml-2"},[t("div",{staticClass:"d-flex align-items-center"},[t("a",{staticClass:"user-name",attrs:{href:"#"}},[e._v(" "+e._s(i.Tweet.User.name)+" ")]),t("p",{staticClass:"user-acount-for-post ml-2"},[t("span",[e._v("@")]),e._v(" "+e._s(i.Tweet.User.account)+" "),t("span",[e._v(" • ")])]),t("p",{staticClass:"post-time"},[e._v(" "+e._s(e._f("fromNow")(i.Tweet.createdAt))+" ")])]),t("p",{staticClass:"tweet-content mt-2"},[e._v(" "+e._s(i.Tweet.description)+" ")]),t("div",{staticClass:"tweet-icon-show-pannel d-flex mt-1"},[t("div",{staticClass:"d-flex align-items-center"},[e._m(0,!0),t("span",{staticClass:"reply-number ml-1"},[e._v(" "+e._s(i.Tweet.replyCount)+" ")])]),t("div",{staticClass:"d-flex align-items-center ml-8"},[i.isLiked?t("button",[t("img",{staticClass:"tweet-icon-show",attrs:{src:s(68665),alt:"likedx2.png"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.unLike(i.TweetId)}}})]):e._e(),t("span",{staticClass:"like-number ml-1"},[e._v(" "+e._s(i.Tweet.likeCount)+" ")])])])])])})),0)},n=[function(){var e=this,t=e._self._c;return t("button",[t("img",{staticClass:"tweet-icon-show",attrs:{src:s(63461),alt:""}})])}],a=s(50124),r=s(48534),l=s(4648),c=(s(21703),s(96647),s(83459)),o=s(78390),u=s(76163);const f={name:"UserLikeList",mixins:[c.qk,c.Lf],props:{initialLikes:{type:Array,required:!0}},data:function(){return{likes:this.initialLikes}},watch:{initialLikes:function(e){this.likes=(0,l.Z)((0,l.Z)({},this.likes),e),this.likes=e}},methods:{unLike:function(e){var t=this;return(0,r.Z)((0,a.Z)().mark((function s(){var i,n;return(0,a.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,t.isProcessing=!0,console.log("tweetId=",e),s.next=5,o.Z.unLike({tweetId:e});case 5:if(i=s.sent,n=i.data,console.log("data=",n),"error"!==n.status){s.next=10;break}throw new Error(n.message);case 10:t.$emit("fromUserLikeList"),t.isProcessing=!1,s.next=19;break;case 14:s.prev=14,s.t0=s["catch"](0),console.error(s.t0.message),t.isProcessing=!1,u.F.fire({icon:"error",title:"無法對 Tweet 取消 Like，請稍後再試"});case 19:case"end":return s.stop()}}),s,null,[[0,14]])})))()}}},m=f;var d=s(1001),p=(0,d.Z)(m,i,n,!1,null,null,null);const k=p.exports}}]);
//# sourceMappingURL=166.152caa9b.js.map