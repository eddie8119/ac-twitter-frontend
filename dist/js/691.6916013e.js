"use strict";(self["webpackChunkforum_front_end_vue"]=self["webpackChunkforum_front_end_vue"]||[]).push([[691],{98913:(t,e,s)=>{s.d(e,{Z:()=>d});s(68309);var a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"navpillHeader-container"}},[t._m(0),e("div",{staticClass:"navpill-info-container flex-column"},[e("router-link",{staticClass:"navpillHeader-title",attrs:{to:"/user"}},[t._v(" "+t._s(t.currentUser.name)+" ")]),e("p",{staticClass:"post-number-hint"},[t._v(" "+t._s(t.currentUser.tweetsCount)+" "),e("span",[t._v("推文")])])],1)])},r=[function(){var t=this,e=t._self._c;return e("a",{attrs:{href:"javascript:history.back()"}},[e("img",{staticClass:"arrow-icon",attrs:{src:s(57139),alt:"回到上一頁"}})])}],n=s(4648),i=s(63822);const l={name:"NavpillHeader",data:function(){return{isLoading:!0}},computed:(0,n.Z)({},(0,i.rn)(["currentUser"]))},c=l;var o=s(1001),u=(0,o.Z)(c,a,r,!1,null,null,null);const d=u.exports},96691:(t,e,s)=>{s.r(e),s.d(e,{default:()=>T});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex justify-content-center"},[e("NavBar"),e("div",{staticClass:"main-wrapper"},[e("NavpillHeader"),e("ReplyPost",{attrs:{"initial-tweetid":t.tweetId}}),e("PostReplyList",{attrs:{"initial-tweetid":t.tweetId}})],1),e("div",{attrs:{id:"recommendColumn-container"}},[t._m(0),e("RecommendColumn")],1)],1)},r=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"recommendHeader mt-4"},[e("h1",[t._v("推薦跟隨")])])}],n=(s(9653),s(81298)),i=s(19279),l=s(98913),c=(s(68309),s(82526),s(41817),function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"reply-post-container"}},[e("div",{staticClass:"d-flex"},[e("img",{staticClass:"user-headshot",attrs:{src:t._f("emptyImage")(t.tweet.User.avatar),alt:"個人頭像"}}),e("div",{staticClass:"flex-column ml-2"},[e("a",{staticClass:"user-name",attrs:{href:"#"}},[t._v(" "+t._s(t.tweet.User.name)+" ")]),e("p",{staticClass:"user-acount-for-post"},[e("span",[t._v("@")]),t._v(" "+t._s(t.tweet.User.account)+" ")])])]),e("p",{staticClass:"tweet-content mt-2"},[t._v(" "+t._s(t.tweet.description)+" ")]),e("div",{staticClass:"tweet-post-time-pannel d-flex mt-2"},[e("p",{staticClass:"post-time"},[t._v(" "+t._s(t._f("localeSupport")(t.tweet.createdAt))+" ")])]),e("div",{staticClass:"reply-like-number-container d-flex mt-2"},[e("p",[e("span",{staticClass:"tweet-reply-number"},[t._v(" "+t._s(t.tweet.replyCount)+" ")]),t._v(" 回覆 ")]),e("p",{staticClass:"ml-6"},[e("span",{staticClass:"tweet-like-number"},[t._v(" "+t._s(t.tweet.likeCount)+" ")]),t._v(" 喜歡次數 ")])]),t._m(0)])}),o=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"tweet-icon-show-pannel d-flex mt-1"},[e("a",{attrs:{href:"#"}},[e("img",{staticClass:"tweet-icon-show",attrs:{src:s(63461),alt:"回覆按鈕"}})]),e("a",{attrs:{href:"#"}},[e("img",{staticClass:"tweet-icon-show like-icon",attrs:{src:s(66159),alt:"愛心按鈕"}})])])}],u=s(50124),d=s(48534),p=s(83459),v=s(88431),w=s(76163);const m={name:"ReplyPost",mixins:[p.L,p.Lf],props:{initialTweetid:{type:Number,required:!0}},data:function(){return{tweet:this.initialTweet}},created:function(){this.fetchTweet({tweetId:this.initialTweetid})},methods:{fetchTweet:function(t){var e=this;return(0,d.Z)((0,u.Z)().mark((function s(){var a,r,n;return(0,u.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.tweetId,s.prev=1,e.isLoading=!0,s.next=5,v.Z.getTweet({tweetId:a});case 5:r=s.sent,n=r.data,e.tweet=n,e.isLoading=!1,s.next=16;break;case 11:s.prev=11,s.t0=s["catch"](1),console.error(s.t0),e.isLoading=!1,w.F.fire({icon:"error",title:"無法取得 Tweet 資料，請稍後再試"});case 16:case"end":return s.stop()}}),s,null,[[1,11]])})))()}}},f=m;var h=s(1001),_=(0,h.Z)(f,c,o,!1,null,null,null);const A=_.exports;var C=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"d-flex flex-column",attrs:{id:"reply-post-list-container"}},t._l(t.replies,(function(s){return e("li",{key:s.id},[e("img",{staticClass:"user-headshot",attrs:{src:t._f("emptyImage")(s.User.avatar),alt:"個人頭像"}}),e("div",{staticClass:"ml-2"},[e("div",{staticClass:"d-flex align-items-center"},[e("router-link",{staticClass:"user-name",attrs:{to:{name:"user-id-tweets",params:{userId:s.User.id}}}},[t._v(" "+t._s(s.User.name)+" ")]),e("p",{staticClass:"user-acount-for-post ml-2"},[e("span",[t._v("@")]),t._v(t._s(s.User.account)),e("span",[t._v(" • ")])]),e("p",{staticClass:"post-time"},[t._v(" "+t._s(t._f("fromNow")(s.createdAt))+" ")])],1),e("div",{staticClass:"reply-to-who-container d-flex mt-2"},[t._v(" 回覆 "),e("span",{staticClass:"reply-to-who-acount ml-1"},[e("span",[t._v("@")]),t._v(" "+t._s(t.tweet.User.account)+" ")])]),e("p",{staticClass:"tweet-content mt-2"},[t._v(" "+t._s(s.comment)+" ")])])])})),0)},g=[],x=s(24239);const y={name:"PostReplyList",mixins:[p.qk,p.Lf],props:{initialTweetid:{type:Number,required:!0}},data:function(){return{tweet:this.initialTweet,replies:[],currentUser:x.Z.state.currentUser}},created:function(){this.fetchReplies({tweetId:this.initialTweetid}),this.fetchTweet({tweetId:this.initialTweetid})},methods:{fetchReplies:function(t){var e=this;return(0,d.Z)((0,u.Z)().mark((function s(){var a,r,n;return(0,u.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.tweetId,s.prev=1,e.isLoading=!0,s.next=5,v.Z.getReplies({tweetId:a});case 5:r=s.sent,n=r.data,e.replies=n,console.log("this.replies=",e.replies),e.isLoading=!1,s.next=17;break;case 12:s.prev=12,s.t0=s["catch"](1),console.error(s.t0),e.isLoading=!1,w.F.fire({icon:"error",title:"無法取得 Replies 資料，請稍後再試"});case 17:case"end":return s.stop()}}),s,null,[[1,12]])})))()},fetchTweet:function(t){var e=this;return(0,d.Z)((0,u.Z)().mark((function s(){var a,r,n;return(0,u.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.tweetId,s.prev=1,e.isLoading=!0,s.next=5,v.Z.getTweet({tweetId:a});case 5:r=s.sent,n=r.data,e.tweet=n,console.log("tweet=",e.tweet),e.isLoading=!1,s.next=17;break;case 12:s.prev=12,s.t0=s["catch"](1),console.error(s.t0),e.isLoading=!1,w.F.fire({icon:"error",title:"無法取得 Tweet 資料，請稍後再試"});case 17:case"end":return s.stop()}}),s,null,[[1,12]])})))()}}},Z=y;var U=(0,h.Z)(Z,C,g,!1,null,null,null);const R=U.exports,k={name:"ReplyList",components:{NavBar:n.Z,RecommendColumn:i.Z,NavpillHeader:l.Z,ReplyPost:A,PostReplyList:R},data:function(){return{tweetId:-1,currentUser:x.Z.state.currentUser,isLoading:!0}},created:function(){var t=this.$route.query.tweetId,e=void 0===t?"":t;this.passTweetId(Number(e))},methods:{passTweetId:function(t){this.tweetId=t}}},I=k;var L=(0,h.Z)(I,a,r,!1,null,null,null);const T=L.exports},57139:t=>{t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAOCAYAAADJ7fe0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABTSURBVHgBrdLRCQAgCATQo0ncfylHKRTqQwrM88Cojx6UYl6iqlNEvDLBCwBQQyJg5y+kChyEARxhAUc2UC27P9CRlufYQn/s3tAtZqH+sY9QFlmZh9qG/+G4HQAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=691.6916013e.js.map